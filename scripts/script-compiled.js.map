{"version":3,"sources":["../js/script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["//Dom variables\r\nconst display = document.querySelector('.enter-field');\r\nconst evalDiv = document.querySelector('.eval-div');\r\nconst currentResult = document.querySelector('.current-result');\r\nconst standardButtons = document.querySelectorAll('.standard-button');\r\nconst numbers = document.querySelectorAll('.number');\r\nconst operators = document.querySelectorAll('.operator');\r\nconst clearLastNumber = document.querySelector('[data-value=\"CE\"]');\r\nconst clearAll = document.querySelector('[data-value=\"C\"]');\r\nconst deleteLastSymbol = document.querySelector('[data-value=\"«\"]');\r\nconst sqrt = document.getElementById('sqrt');\r\nconst equal = document.getElementById('equal');\r\n\r\n\r\n// a variable, that stores current number\r\nlet number = '0';\r\n// a variable stores operator;\r\nlet operator = '';\r\n// a variable, that stores previous number\r\nlet firstNumber = '';\r\n\r\n// a variable, that stores value after evaluation\r\nlet result = '';\r\n// display current number on the screen\r\ncurrentResult.innerText = '0';\r\n\r\n\r\n// function checks number length to be less than 18 characters  and changes font-size according to number's length\r\nfunction checkNumberLength() {\r\n\r\n  if(number.length >= 8 && number.length < 10 || result.length >= 8 && result.length < 10) {\r\n      currentResult.style.fontSize = 54 + 'px';\r\n  } else if(number.length >= 10 && number.length <= 12 || result.length >= 10 && result.length <= 12) {\r\n      currentResult.style.fontSize = 44 + 'px';\r\n    } else if(number.length >= 13 &&  number.length <= 19  || result.length >= 13 && result.length <= 19) {\r\n      currentResult.style.fontSize = 30 + 'px';\r\n    } else if(number.length > 19 || result.length > 19) {\r\n      result = 'Err';\r\n      currentResult.innerText = result;\r\n      currentResult.style.fontSize = 64 + 'px';\r\n\r\n    } else if(number.length < 8 &&  number.length >= 0 || result.length <  8 && result.length >= 0) {\r\n     currentResult.style.fontSize = 64 + 'px';\r\n  }\r\n}\r\n\r\n// function adds characters to 'number' varible\r\nfunction addNumber(e) {\r\n  let val = e.target.dataset.value;\r\n\r\n  // condition works, when first character of new number adds, and default value changes\r\n  if(number === '0') {\r\n    number = '';\r\n  }\r\n\r\n  // condition works when new number is adding just after evaluation\r\n  if(result !== '') {\r\n    result = '';\r\n    currentResult.innerText = number;\r\n  }\r\n\r\n  // if Error - number & result = 0\r\n  if(result === 'Err') {\r\n    number = '';\r\n    result = '';\r\n  }\r\n\r\n  // condition prevents adding characters to number, if it is more then 19 characters\r\n  if(number.length === 20) {\r\n    return false;\r\n  }\r\n\r\n  // condition works if we press '.' button, so it inserts '0' before '.'\r\n  if(number.length === 0 && val === '.') {\r\n    //return false;\r\n    number = '0';\r\n  }\r\n\r\n  // adding character to number\r\n  if(e.target.classList.contains('number')) {\r\n    let val = e.target.dataset.value;\r\n    number += val;\r\n    // console.log(number);\r\n    checkNumberLength();\r\n    currentResult.innerText = number;\r\n  } else {\r\n    return false;\r\n  }\r\n\r\n}\r\n\r\nfunction addOperator(e) {\r\n  let val = e.target.dataset.value;\r\n  console.log(number, result, operator);\r\n\r\n  if(number.length == '0') {\r\n    number = '0';\r\n  }\r\n\r\n  if(firstNumber !== '' && operator !== '' && number !== '') {\r\n    evaluate();\r\n    firstNumber = result;\r\n    // result = 0;\r\n  }\r\n\r\n  if(result !== '') {\r\n    firstNumber = result;\r\n    // result = '';\r\n    number = '';\r\n    operator = val;\r\n  } else {\r\n    operator = val;\r\n    firstNumber = number;\r\n    number = '';\r\n  }\r\n\r\n  // console.log('fNum:' + firstNumber, 'num:' + number, 'op:' + operator);\r\n}\r\n\r\nfunction evaluate() {\r\n  if(firstNumber === '' && operator === '') {\r\n    return null;\r\n  }\r\n\r\n  if(result === undefined || result == isNaN(NaN) ) {\r\n    currentResult.innerText = 'Err';\r\n  }\r\n\r\n  if(operator === '+') {\r\n   result = (parseFloat(firstNumber) + parseFloat(number)).toString(10);\r\n    console.log(result);\r\n  } else if(operator === '-') {\r\n    result = (parseFloat(firstNumber) - parseFloat(number)).toString(10);\r\n    console.log(result);\r\n  } else if(operator === '*') {\r\n    result = (parseFloat(firstNumber) * parseFloat(number)).toString(10);\r\n    console.log(result);\r\n  } else if(operator === '/') {\r\n    result = (parseFloat(firstNumber) / parseFloat(number)).toString(10);\r\n    console.log(result);\r\n  }\r\n\r\n  if(result.length > 19) {\r\n    result = 'Err';\r\n    currentResult.innerText = result;\r\n    currentResult.style.fontSize = 64 + 'px';\r\n  }\r\n\r\n  checkNumberLength();\r\n  currentResult.innerText = result;\r\n  firstNumber = '';\r\n  number = '';\r\n  // result = '';\r\n}\r\n\r\nfunction clearLNumb() {\r\n  // console.log(number + 'first console');\r\n  number = '';\r\n\r\n  if(result !== '0') {\r\n    result = '';\r\n    operator = '';\r\n  }\r\n\r\n  currentResult.innerText = '0';\r\n  currentResult.style.fontSize = 64 + 'px';\r\n  // console.log(firstNumber, number + 'second console');\r\n  if(result === undefined || result == isNaN(NaN) ) {\r\n    currentResult.innerText = 'Err';\r\n  }\r\n}\r\n\r\nfunction cleanAll() {\r\n  // console.log(firstNumber, operator, number, result, 'first console');\r\n\r\n  firstNumber = '';\r\n  operator = '';\r\n  number = '';\r\n  result = '';\r\n  currentResult.innerText = '0';\r\n  currentResult.style.fontSize = 64 + 'px';\r\n  // console.log(firstNumber, operator, number, result + 'second console');\r\n}\r\n\r\nfunction delLastSymbol(e) {\r\n  addNumber(e);\r\n   // console.log(number + 'before del');\r\n  number = number.substring(0, number.length - 1);\r\n  currentResult.innerText = number;\r\n  checkNumberLength();\r\n  // console.log(number);\r\n  // console.log(number + 'after del');\r\n  if(number === '') {\r\n    currentResult.innerText = 0;\r\n  }\r\n}\r\n\r\n\r\nfunction findSqrt() {\r\n  if(firstNumber !== '') {\r\n    currentResult.innerText = \"Err\";\r\n    return false;\r\n  }\r\n\r\n  if(result !== '') {\r\n    number = result;\r\n  }\r\n\r\n  let num = Math.sqrt(parseInt(number,10));\r\n  number = num.toString();\r\n  console.log(number.length, typeof num);\r\n  result = number.length > 18 ? parseFloat(num).toFixed(15) : number;\r\n\r\n  // console.log(result);\r\n  currentResult.innerText = result;\r\n  checkNumberLength();\r\n  number = '';\r\n  //result = '';\r\n}\r\n\r\nfunction evaluateHist(e) {\r\n  let value = e.target.dataset.value;\r\n\r\n\r\n  if(value === '«') {\r\n    let val = evalDiv.innerText;\r\n    val = val.substring(0, val.length - 1);\r\n    evalDiv.innerText = '';\r\n    evalDiv.innerText = val;\r\n    return false;\r\n  }\r\n\r\n  if(value === 'CE') {\r\n    evalDiv.innerText = firstNumber + operator;\r\n    return false;\r\n  }\r\n\r\n  if(result !== '') {\r\n    evalDiv.innerText = result;\r\n    evalDiv.innerText += value;\r\n  } else {\r\n    evalDiv.innerText += value;\r\n\r\n  }\r\n\r\n  if(value === '=' || value === 'C' || value === '√') {\r\n    evalDiv.innerText = '';\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n// eventListener for adding numbers\r\nnumbers.forEach(number => number.addEventListener('click', addNumber));\r\n// eventListener for adding operators\r\noperators.forEach(operator => operator.addEventListener('click', addOperator));\r\n\r\n// eventListener for deleting last number\r\nclearLastNumber.addEventListener('click', clearLNumb);\r\n// eventListener for clearing all data\r\nclearAll.addEventListener('click', cleanAll);\r\n// eventListener for deleting last character\r\ndeleteLastSymbol.addEventListener('click', delLastSymbol);\r\n// eventListener for Math.sqrt()\r\nsqrt.addEventListener('click', findSqrt);\r\n// eventListener for agging data to history\r\nstandardButtons.forEach(standardButton => standardButton.addEventListener('click', evaluateHist));\r\n// evaluating data\r\nequal.addEventListener('click', evaluate);\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}